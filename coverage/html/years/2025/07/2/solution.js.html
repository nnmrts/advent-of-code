<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="../../../../style.css" rel="stylesheet">
		<script src="../../../../script.js"></script>
	</head>
	<body>
		<coverage-page
			title="<a href=&quot;../../../../index.html&quot;>All files</a> / <a href=&quot;../../../../years/index.html&quot;>years</a> / <a href=&quot;../../../2025/index.html&quot;>2025</a> / <a href=&quot;../../07/index.html&quot;>07</a> / <a href=&quot;../2/index.html&quot;>2</a> / solution.js"
			branches-pct="100.00%"
			branches-fraction="15/15"
			lines-pct="100.00%"
			lines-fraction="171/171"
			status="high"
		><table class="coverage">
				<tr>
					<td class="line-count quiet">
						<pre>
<a href="#L1" id="L1">1</a>
<a href="#L2" id="L2">2</a>
<a href="#L3" id="L3">3</a>
<a href="#L4" id="L4">4</a>
<a href="#L5" id="L5">5</a>
<a href="#L6" id="L6">6</a>
<a href="#L7" id="L7">7</a>
<a href="#L8" id="L8">8</a>
<a href="#L9" id="L9">9</a>
<a href="#L10" id="L10">10</a>
<a href="#L11" id="L11">11</a>
<a href="#L12" id="L12">12</a>
<a href="#L13" id="L13">13</a>
<a href="#L14" id="L14">14</a>
<a href="#L15" id="L15">15</a>
<a href="#L16" id="L16">16</a>
<a href="#L17" id="L17">17</a>
<a href="#L18" id="L18">18</a>
<a href="#L19" id="L19">19</a>
<a href="#L20" id="L20">20</a>
<a href="#L21" id="L21">21</a>
<a href="#L22" id="L22">22</a>
<a href="#L23" id="L23">23</a>
<a href="#L24" id="L24">24</a>
<a href="#L25" id="L25">25</a>
<a href="#L26" id="L26">26</a>
<a href="#L27" id="L27">27</a>
<a href="#L28" id="L28">28</a>
<a href="#L29" id="L29">29</a>
<a href="#L30" id="L30">30</a>
<a href="#L31" id="L31">31</a>
<a href="#L32" id="L32">32</a>
<a href="#L33" id="L33">33</a>
<a href="#L34" id="L34">34</a>
<a href="#L35" id="L35">35</a>
<a href="#L36" id="L36">36</a>
<a href="#L37" id="L37">37</a>
<a href="#L38" id="L38">38</a>
<a href="#L39" id="L39">39</a>
<a href="#L40" id="L40">40</a>
<a href="#L41" id="L41">41</a>
<a href="#L42" id="L42">42</a>
<a href="#L43" id="L43">43</a>
<a href="#L44" id="L44">44</a>
<a href="#L45" id="L45">45</a>
<a href="#L46" id="L46">46</a>
<a href="#L47" id="L47">47</a>
<a href="#L48" id="L48">48</a>
<a href="#L49" id="L49">49</a>
<a href="#L50" id="L50">50</a>
<a href="#L51" id="L51">51</a>
<a href="#L52" id="L52">52</a>
<a href="#L53" id="L53">53</a>
<a href="#L54" id="L54">54</a>
<a href="#L55" id="L55">55</a>
<a href="#L56" id="L56">56</a>
<a href="#L57" id="L57">57</a>
<a href="#L58" id="L58">58</a>
<a href="#L59" id="L59">59</a>
<a href="#L60" id="L60">60</a>
<a href="#L61" id="L61">61</a>
<a href="#L62" id="L62">62</a>
<a href="#L63" id="L63">63</a>
<a href="#L64" id="L64">64</a>
<a href="#L65" id="L65">65</a>
<a href="#L66" id="L66">66</a>
<a href="#L67" id="L67">67</a>
<a href="#L68" id="L68">68</a>
<a href="#L69" id="L69">69</a>
<a href="#L70" id="L70">70</a>
<a href="#L71" id="L71">71</a>
<a href="#L72" id="L72">72</a>
<a href="#L73" id="L73">73</a>
<a href="#L74" id="L74">74</a>
<a href="#L75" id="L75">75</a>
<a href="#L76" id="L76">76</a>
<a href="#L77" id="L77">77</a>
<a href="#L78" id="L78">78</a>
<a href="#L79" id="L79">79</a>
<a href="#L80" id="L80">80</a>
<a href="#L81" id="L81">81</a>
<a href="#L82" id="L82">82</a>
<a href="#L83" id="L83">83</a>
<a href="#L84" id="L84">84</a>
<a href="#L85" id="L85">85</a>
<a href="#L86" id="L86">86</a>
<a href="#L87" id="L87">87</a>
<a href="#L88" id="L88">88</a>
<a href="#L89" id="L89">89</a>
<a href="#L90" id="L90">90</a>
<a href="#L91" id="L91">91</a>
<a href="#L92" id="L92">92</a>
<a href="#L93" id="L93">93</a>
<a href="#L94" id="L94">94</a>
<a href="#L95" id="L95">95</a>
<a href="#L96" id="L96">96</a>
<a href="#L97" id="L97">97</a>
<a href="#L98" id="L98">98</a>
<a href="#L99" id="L99">99</a>
<a href="#L100" id="L100">100</a>
<a href="#L101" id="L101">101</a>
<a href="#L102" id="L102">102</a>
<a href="#L103" id="L103">103</a>
<a href="#L104" id="L104">104</a>
<a href="#L105" id="L105">105</a>
<a href="#L106" id="L106">106</a>
<a href="#L107" id="L107">107</a>
<a href="#L108" id="L108">108</a>
<a href="#L109" id="L109">109</a>
<a href="#L110" id="L110">110</a>
<a href="#L111" id="L111">111</a>
<a href="#L112" id="L112">112</a>
<a href="#L113" id="L113">113</a>
<a href="#L114" id="L114">114</a>
<a href="#L115" id="L115">115</a>
<a href="#L116" id="L116">116</a>
<a href="#L117" id="L117">117</a>
<a href="#L118" id="L118">118</a>
<a href="#L119" id="L119">119</a>
<a href="#L120" id="L120">120</a>
<a href="#L121" id="L121">121</a>
<a href="#L122" id="L122">122</a>
<a href="#L123" id="L123">123</a>
<a href="#L124" id="L124">124</a>
<a href="#L125" id="L125">125</a>
<a href="#L126" id="L126">126</a>
<a href="#L127" id="L127">127</a>
<a href="#L128" id="L128">128</a>
<a href="#L129" id="L129">129</a>
<a href="#L130" id="L130">130</a>
<a href="#L131" id="L131">131</a>
<a href="#L132" id="L132">132</a>
<a href="#L133" id="L133">133</a>
<a href="#L134" id="L134">134</a>
<a href="#L135" id="L135">135</a>
<a href="#L136" id="L136">136</a>
<a href="#L137" id="L137">137</a>
<a href="#L138" id="L138">138</a>
<a href="#L139" id="L139">139</a>
<a href="#L140" id="L140">140</a>
<a href="#L141" id="L141">141</a>
<a href="#L142" id="L142">142</a>
<a href="#L143" id="L143">143</a>
<a href="#L144" id="L144">144</a>
<a href="#L145" id="L145">145</a>
<a href="#L146" id="L146">146</a>
<a href="#L147" id="L147">147</a>
<a href="#L148" id="L148">148</a>
<a href="#L149" id="L149">149</a>
<a href="#L150" id="L150">150</a>
<a href="#L151" id="L151">151</a>
<a href="#L152" id="L152">152</a>
<a href="#L153" id="L153">153</a>
<a href="#L154" id="L154">154</a>
<a href="#L155" id="L155">155</a>
<a href="#L156" id="L156">156</a>
<a href="#L157" id="L157">157</a>
<a href="#L158" id="L158">158</a>
<a href="#L159" id="L159">159</a>
<a href="#L160" id="L160">160</a>
<a href="#L161" id="L161">161</a>
<a href="#L162" id="L162">162</a>
<a href="#L163" id="L163">163</a>
<a href="#L164" id="L164">164</a>
<a href="#L165" id="L165">165</a>
<a href="#L166" id="L166">166</a>
<a href="#L167" id="L167">167</a>
<a href="#L168" id="L168">168</a>
<a href="#L169" id="L169">169</a>
<a href="#L170" id="L170">170</a></pre>
					</td>
					<td class="line-coverage quiet">
						<pre>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 1302453 times">x1302453</span>
<span class="cline-any cline-yes" title="This line is covered 1302453 times">x1302453</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 1293882 times">x1293882</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 144084 times">x144084</span>
<span class="cline-any cline-yes" title="This line is covered 144084 times">x144084</span>
<span class="cline-any cline-yes" title="This line is covered 144084 times">x144084</span>
<span class="cline-any cline-yes" title="This line is covered 144084 times">x144084</span>
<span class="cline-any cline-yes" title="This line is covered 144084 times">x144084</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 144084 times">x144084</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 144084 times">x144084</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 147318 times">x147318</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 144084 times">x144084</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 3236 times">x3236</span>
<span class="cline-any cline-yes" title="This line is covered 4772 times">x4772</span>
<span class="cline-any cline-yes" title="This line is covered 4772 times">x4772</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 4934 times">x4934</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 4934 times">x4934</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 4934 times">x4934</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 11971 times">x11971</span>
<span class="cline-any cline-yes" title="This line is covered 11971 times">x11971</span>
<span class="cline-any cline-yes" title="This line is covered 11971 times">x11971</span>
<span class="cline-any cline-yes" title="This line is covered 11971 times">x11971</span>
<span class="cline-any cline-yes" title="This line is covered 11971 times">x11971</span>
<span class="cline-any cline-yes" title="This line is covered 11971 times">x11971</span>
<span class="cline-any cline-yes" title="This line is covered 11971 times">x11971</span>
<span class="cline-any cline-yes" title="This line is covered 12134 times">x12134</span>
<span class="cline-any cline-yes" title="This line is covered 12134 times">x12134</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 23777 times">x23777</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 11971 times">x11971</span>
<span class="cline-any cline-yes" title="This line is covered 1449934 times">x1449934</span>
<span class="cline-any cline-yes" title="This line is covered 1449934 times">x1449934</span>
<span class="cline-any cline-yes" title="This line is covered 2743814 times">x2743814</span>
<span class="cline-any cline-yes" title="This line is covered 2743814 times">x2743814</span>
<span class="cline-any cline-yes" title="This line is covered 2743814 times">x2743814</span>
<span class="cline-any cline-yes" title="This line is covered 2743814 times">x2743814</span>
<span class="cline-any cline-yes" title="This line is covered 2743814 times">x2743814</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 2743814 times">x2743814</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1449934 times">x1449934</span>
<span class="cline-any cline-yes" title="This line is covered 1594016 times">x1594016</span>
<span class="cline-any cline-yes" title="This line is covered 1594016 times">x1594016</span>
<span class="cline-any cline-yes" title="This line is covered 1594016 times">x1594016</span>
<span class="cline-any cline-yes" title="This line is covered 1594016 times">x1594016</span>
<span class="cline-any cline-yes" title="This line is covered 1594016 times">x1594016</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1594016 times">x1594016</span>
<span class="cline-any cline-yes" title="This line is covered 1597250 times">x1597250</span>
<span class="cline-any cline-yes" title="This line is covered 1597250 times">x1597250</span>
<span class="cline-any cline-yes" title="This line is covered 1597250 times">x1597250</span>
<span class="cline-any cline-yes" title="This line is covered 1597250 times">x1597250</span>
<span class="cline-any cline-yes" title="This line is covered 1598948 times">x1598948</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1598948 times">x1598948</span>
<span class="cline-any cline-yes" title="This line is covered 1602344 times">x1602344</span>
<span class="cline-any cline-yes" title="This line is covered 1602344 times">x1602344</span>
<span class="cline-any cline-yes" title="This line is covered 1602344 times">x1602344</span>
<span class="cline-any cline-yes" title="This line is covered 1602344 times">x1602344</span>
<span class="cline-any cline-yes" title="This line is covered 1602344 times">x1602344</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1598948 times">x1598948</span>
<span class="cline-any cline-yes" title="This line is covered 1598948 times">x1598948</span>
<span class="cline-any cline-yes" title="This line is covered 1597250 times">x1597250</span>
<span class="cline-any cline-yes" title="This line is covered 1597250 times">x1597250</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1734864 times">x1734864</span>
<span class="cline-any cline-yes" title="This line is covered 1734864 times">x1734864</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 1449934 times">x1449934</span>
<span class="cline-any cline-yes" title="This line is covered 1449934 times">x1449934</span>
<span class="cline-any cline-yes" title="This line is covered 1449934 times">x1449934</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 20543 times">x20543</span>
<span class="cline-any cline-yes" title="This line is covered 20543 times">x20543</span>
<span class="cline-any cline-yes" title="This line is covered 20543 times">x20543</span>
<span class="cline-any cline-yes" title="This line is covered 20543 times">x20543</span>
<span class="cline-any cline-yes" title="This line is covered 20543 times">x20543</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span>
<span class="cline-any cline-yes" title="This line is covered 1 time">x1</span>
<span class="cline-any cline-yes" title="This line is covered 2 times">x2</span></pre>
					</td>
					<td class="branch-coverage quiet"><pre>








































































































































































</pre></td>
					<td class="text">
						<pre
							class="prettyprint"
						>
import manifold from "../_common/manifold.js";

/**
 *
 * @param {object} options
 * @param {number} options.columnIndex
 * @param {manifold[number][number][][]} options.currentManifold
 * @param {number} options.rowIndex
 */
const handleEmpty = ({
	columnIndex,
	currentManifold,
	rowIndex
}) =&gt; {
	const valueAbove = currentManifold[rowIndex - 1]?.[columnIndex];

	switch (valueAbove) {
		case "S":
		case "|":
			currentManifold[rowIndex][columnIndex] = "|";
			break;

		// no default
	}
};

/**
 *
 * @param {object} options
 * @param {number} options.columnIndex
 * @param {manifold[number][number][][]} options.currentManifold
 * @param {number} options.rowIndex
 */
const handleSplitter = ({
	columnIndex,
	currentManifold,
	rowIndex
}) =&gt; {
	const valueAbove = currentManifold[rowIndex - 1]?.[columnIndex];

	const splits = [];

	if (valueAbove === "|") {
		const row = currentManifold[rowIndex];

		if (columnIndex - 1 &gt;= 0) {
			const nextManifold = currentManifold
				.map((innerRow) =&gt; [...innerRow]);

			nextManifold[rowIndex][columnIndex - 1] = "|";

			splits.push({
				currentManifold: nextManifold,
				rowIndex: rowIndex + 1
			});
		}

		if (columnIndex + 1 &lt;= row.length - 1) {
			const nextManifold = currentManifold
				.map((innerRow) =&gt; [...innerRow]);

			nextManifold[rowIndex][columnIndex + 1] = "|";

			splits.push({
				currentManifold: nextManifold,
				rowIndex: rowIndex + 1
			});
		}
	}

	return splits;
};

const cachedSplitterResults = new Map();

/**
 * @template KeyTemplate
 * @template ValueTemplate
 * @param {Map&lt;KeyTemplate, ValueTemplate&gt;} map
 * @param {KeyTemplate} key
 * @param {(key: KeyTemplate) =&gt; ValueTemplate} callback
 */
const getOrInsertComputed = (map, key, callback) =&gt; {
	if (map.has(key)) {
		return map.get(key);
	}

	const value = callback(key);

	map.set(key, value);

	return value;
};

/**
 * @typedef {object} TraverseOptions
 * @property {manifold[number][number][][]} currentManifold
 * @property {number} [numberOfTimelines]
 * @property {number} [rowIndex]
 */

/**
 *
 * @param {TraverseOptions} options
 */
const traverse = (
	{
		currentManifold,
		numberOfTimelines = 0,
		rowIndex = 0
	} = /** @type {TraverseOptions} */ ({})
) =&gt; {
	if (rowIndex === currentManifold.length) {
		return numberOfTimelines + 1;
	}

	const row = currentManifold[rowIndex];

	for (const [columnIndex, value] of row.entries()) {
		switch (value) {
			case ".":
				handleEmpty({
					columnIndex,
					currentManifold,
					rowIndex
				});

				break;

			case "^": {
				const splits = handleSplitter({
					columnIndex,
					currentManifold,
					rowIndex
				});

				if (splits.length &gt; 0) {
					return getOrInsertComputed(
						cachedSplitterResults,
						`${rowIndex}${columnIndex}`,
						() =&gt; {
							let innerNumberOfTimelines = 0;

							for (const split of splits) {
								innerNumberOfTimelines += traverse({
									...split,
									numberOfTimelines
								});
							}

							return innerNumberOfTimelines;
						}
					);
				}

				break;
			}

			// no default
		}
	}

	return traverse({
		currentManifold,
		numberOfTimelines,
		rowIndex: rowIndex + 1
	});
};

console.info(traverse({ currentManifold: manifold.map((row) =&gt; [...row]) }));
</pre>
					</td>
				</tr>
			</table></coverage-page>
	</body>
</html>
